O que é enumeração?

Enumeração é o processo de extrair nomes de usuários, nomes de máquinas, recursos de rede, 
compartilhamentos e serviços de um sistema ou rede. Na fase de enumeração, 
um invasor cria conexões ativas com o sistema e envia consultas direcionadas 
para obter mais informações sobre o alvo. O invasor usa as informações coletadas por meio de enumeração
para identificar vulnerabilidades na segurança do sistema, o que o ajuda a explorar o sistema alvo. 
Por sua vez, a enumeração permite que o invasor execute ataques de senha para obter acesso não autorizado
aos recursos do sistema de informação. As técnicas de enumeração funcionam em um ambiente de intranet.
Em particular, a enumeração permite ao invasor coletar as seguintes informações:

Recursos de rede.
Compartilhamento de rede.
Tabela de roteamento
Configurações de auditoria e serviço.
Detalhes de SNMP e nomes de domínio totalmento qualificado (FQDN)
Nomes de máquinas.
Usuários e grupos.
Aplicativos e banners.

Durante a enumeração, os invasores podem se deparar com um compartilhamento de comunicação remota entre processos (IPC)
como o IPC$ no Windows, que podem investigar ainda mais para se conectar a um compartilhamento administrativo forçando
credenciais de administrador e obter informações completas sobre o arquivo. listagem do sistema que o compartilhamento 
representa.

+-------------------------------------------------------------------------------------------------------------------------+

ENUMERAÇÃO HTTP:

┌──(root㉿ENIAC)-[/home/]
└─# nc -v blabla.com.br 80
fwd/rev mismatch: blabla.com.br != ip555.ip-27-00-10.eu
Tblabla.com.br [192.168.1.254] 80 (http) open
HEAD / HTTP/1.0

HTTP/1.1 408 Request Time-out
Date: Sat, 28 Sep 2019 13:57:22 GMT
Server: Apache/2.2.22 (Debian) --> VERSÃO DO SERVER
Vary: Accept-Encoding
Connection: close
Content-Type: text/html; charset=iso-8859-1


┌──(root㉿ENIAC)-[/home/]
└─# nc -v blabla.com.br 80
fwd/rev mismatch: blabla.com.br != ip555.ip-27-00-10.eu
Tblabla.com.br [192.168.1.254] 80 (http) open
OPTIONS /admin HTTP/1.0

HTTP/1.1 200 OK
Date: Sat, 28 Sep 2019 13:57:22 GMT
Server: Apache/2.2.22 (Debian) --> "VERSÃO DO SERVER"
Allow: OPTIONS,GET,HEAD,POST --> "METODOS PERMITIDOS" 
Vary: Accept-Encoding
Connection: close
Content-Type: text/html; charset=iso-8859-1

┌──(root㉿ENIAC)-[/home/]
└─# nc -v blabla.com.br 80
fwd/rev mismatch: blabla.com.br != ip555.ip-27-00-10.eu
Tblabla.com.br [192.168.1.254] 80 (http) open
GET / HTTP/1.1 --> "UTILIZAR o  HTTP/1.1 Para hosts que hospedam muitos sites para retornar mais informações"
HOST: blabla.com.br --> "Não esquecer de especificar o host."

HTTP/1.1 408 Request Time-out
Date: Sat, 28 Sep 2019 13:57:22 GMT
Server: Apache/2.2.22 (Debian) --> VERSÃO DO SERVER
Vary: Accept-Encoding
Connection: close
Content-Type: text/html; charset=iso-8859-1

┌──(root㉿ENIAC)-[/home/]
└─# nc -v blabla.com.br 80
fwd/rev mismatch: blabla.com.br != ip555.ip-27-00-10.eu
Tblabla.com.br [192.168.1.254] 80 (http) open
GET /index.aspx HTTP/1.0 --> "Retorna a versão da tecnologia"

XAspNet-Version: 2.0.50727 --> "Versão"
HTTP/1.1 408 Request Time-out
Date: Sat, 28 Sep 2019 13:57:22 GMT
Server: Apache/2.2.22 (Debian) --> VERSÃO DO SERVER
Vary: Accept-Encoding
Connection: close
Content-Type: text/html; charset=iso-8859-1

+--------------------------------------------------------------------------------------------+

ENUMERAÇÃO EM HTTPS:

┌──(root㉿ENIAC)-[/home]
└─# openssl s_client -quiet -connect tesla.com:443
depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA
verify return:1
depth=1 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = GeoTrust RSA CA 2018
verify return:1
depth=0 C = US, ST = Texas, L = Austin, O = "TESLA, INC.", CN = *.tesla.com
verify return:1
HEAD / HTTP1.1
Host: tesla.com

+--------------------------------------------------------------------------------------------------+

IDENTIFICANDO [ WEB APPLICATION FIREWALL ]

┌──(root㉿ENIAC)-[/home/hashirama]
└─# wafw00f -v -a https://blabla.com.br  

                   ______
                  /      \                                                                                               
                 (  Woof! )                                                                                              
                  \  ____/                      )                                                                        
                  ,,                           ) (_                                                                      
             .-. -    _______                 ( |__|                                                                     
            ()``; |==|_______)                .)|__|                                                                     
            / ('        /|\                  (  |__|                                                                     
        (  /  )        / | \                  . |__|                                                                     
         \(_)_))      /  |  \                   |__|                                                                     

                    ~ WAFW00F : v2.2.0 ~
    The Web Application Firewall Fingerprinting Toolkit                                                                  
                                                                                                                         
[*] Checking https://blabla.com.br
[+] The site https://blabla.com.br is behind Kona SiteDefender (Akamai) WAF.
[~] Number of requests: 2

+-------------------------------------------------------------------------------------------------------------+

ENUMERANDO FILE TRANSFER PROTOCOL(FTP)

'┌──(root㉿ENIAC)-[/home/]
└─# nmap -v -sV -p21,2121 -Pn --open 192.168.1.26/24 -oG ftp
Host discovery disabled (-Pn). All addresses will be marked 'up' and scan times may be slower.
Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-04-30 19:11 -03
NSE: Loaded 46 scripts for scanning.
Initiating ARP Ping Scan at 19:11
Scanning 255 hosts [1 port/host]
Completed ARP Ping Scan at 19:11, 22.56s elapsed (255 total hosts)
Initiating Parallel DNS resolution of 5 hosts. at 19:11
Completed Parallel DNS resolution of 5 hosts. at 19:11, 0.01s elapsed
Initiating Parallel DNS resolution of 1 host. at 19:11
Completed Parallel DNS resolution of 1 host. at 19:11, 0.01s elapsed
Initiating SYN Stealth Scan at 19:11
Scanning 5 hosts [2 ports/host]
Discovered open port 21/tcp on 192.168.1.26
Discovered open port 2121/tcp on 192.168.1.26
Completed SYN Stealth Scan at 19:11, 1.80s elapsed (10 total ports)
Initiating Service scan at 19:11
Scanning 2 services on 5 hosts
Completed Service scan at 19:11, 5.03s elapsed (2 services on 5 hosts)
NSE: Script scanning 5 hosts.
Initiating NSE at 19:11
Completed NSE at 19:11, 0.04s elapsed
Initiating NSE at 19:11
Completed NSE at 19:11, 0.01s elapsed
Nmap scan report for 192.168.1.26
Host is up (0.00056s latency).

PORT     STATE SERVICE VERSION
21/tcp   open  ftp     vsftpd 2.3.4
2121/tcp open  ftp     ProFTPD 1.3.1
MAC Address: 08:00:27:7B:88:8B (Oracle VirtualBox virtual NIC)
Service Info: OS: Unix

Initiating SYN Stealth Scan at 19:11
Scanning 192.168.1.13 [2 ports]
Completed SYN Stealth Scan at 19:11, 0.02s elapsed (2 total ports)
Initiating Service scan at 19:11
NSE: Script scanning 192.168.1.13.
Initiating NSE at 19:11
Completed NSE at 19:11, 0.00s elapsed
Initiating NSE at 19:11
Completed NSE at 19:11, 0.00s elapsed
Read data files from: /usr/bin/../share/nmap
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 256 IP addresses (6 hosts up) scanned in 30.91 seconds
           Raw packets sent: 534 (15.208KB) | Rcvd: 19 (668B)

+---------------------------------------------------------------------------------------------------+
INTERAGINDO COM O FTP:

┌──(root㉿ENIAC)-[/home/]
└─# nc -vn 192.168.1.26 2121                                    
(UNKNOWN) [192.168.1.26] 2121 (iprop) open
220 ProFTPD 1.3.1 Server (Debian) [192.168.1.26]

┌──(root㉿ENIAC)-[/home/]
└─# nc -vn 192.168.1.26 2121
(UNKNOWN) [192.168.1.26] 2121 (iprop) open
220 ProFTPD 1.3.1 Server (Debian) [192.168.1.26]
USER banana
331 Password required for msfadmin
PASS banana123
230 User banana logged in
QUIT
221 Goodbye.

┌──(root㉿ENIAC)-[/home/]
└─# ftp 192.168.1.26
Connected to 192.168.1.26.
220 (vsFTPd 2.3.4)
Name (192.168.1.26:banana): admin
331 Please specify the password.
Password: 
530 Login incorrect.
ftp: Login failed
ftp> 

┌──(root㉿ENIAC)-[/home/]
└─# ftp 192.168.1.26
Connected to 192.168.1.26.
220 (vsFTPd 2.3.4)
Name (192.168.1.26:hashirama): anonymous
331 Please specify the password.
Password: 
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> pwd
Remote directory: /
ftp> passive
Passive mode: off; fallback to active mode: off.
ftp> passive
Passive mode: on; fallback to active mode: on.
ftp> ls
229 Entering Extended Passive Mode (|||63876|).
150 Here comes the directory listing.
226 Directory send OK.
ftp> 

+----------------------------------------------------------------------------------------+

ENUMERANDO NetBIOS / SMB ATRAVÉS DO WINDOWS:


C:\Windows\system32>nbtstat -A 192.168.1.36

Ethernet 2:
Endereço-Ip nó: [192.168.56.1] Identificador de escopo: []

    Host não encontrado.

Ethernet 3:
Endereço-Ip nó: [192.168.1.29] Identificador de escopo: []

           Tabela de nomes de máquinas remotas de NetBIOS

       Nome               Tipo         Status
    ---------------------------------------------
    DESKTOP-ET4LE3E<00>  EXCLUSIVO   Registrado
    DESKTOP-ET4LE3E<20>  EXCLUSIVO   Registrado
    WORKGROUP      <00>  GRUPO       Registrado

    Endereço MAC = 00-00-00-00-00-00

    
C:\Windows\system32>net view \\192.168.1.36
Erro de sistema 5.

Acesso negado.

null sesion:

C:\Windows\system32>net use \\192.168.1.26 "" /u: ""
